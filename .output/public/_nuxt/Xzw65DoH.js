import{H as R}from"./BiLIhPq_.js";import{_ as S}from"./BI6F975E.js";import{t as u,a as K}from"./CkZo-jYM.js";import{f as I,r as y,s as U,h as X,o as a,c as i,a as e,t as V,i as n,p as F,e as C,_ as b,b as c,w as p,A as Q,m as Z,F as L,Q as j,j as f,n as $,l as H,u as P,d as T}from"./DtnZWcr9.js";import{a as x}from"./CWvujpKH.js";import{b as Y}from"./cx4wuL-F.js";const D=A=>(F("data-v-c690de6d"),A=A(),C(),A),z=D(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960"},[e("path",{d:"M480 711 240 471l43-43 197 198 197-197 43 43-240 239Z"})],-1)),J=I({__name:"button-browse",setup(A){const t=y(null);return U(u(),o=>{var s,l;o?(s=t.value)==null||s.classList.add("active"):(l=t.value)==null||l.classList.remove("active")}),X(()=>{u().value=!1}),(o,s)=>(a(),i("button",{ref_key:"currentFeedButton",ref:t,class:"current-feed",onClick:s[0]||(s[0]=l=>("toggleFeedMenu"in o?o.toggleFeedMenu:n(u))().value=!("toggleFeedMenu"in o?o.toggleFeedMenu:n(u))().value),title:"Explore your feeds and communities."},[e("p",null,V(("toggleFeedMenuString"in o?o.toggleFeedMenuString:n(K))().value),1),z],512))}}),G=b(J,[["__scopeId","data-v-c690de6d"]]),q={},w=A=>(F("data-v-c0637fd6"),A=A(),C(),A),W={class:"feeds"},ee=w(()=>e("h6",{class:"title"},"Feeds",-1)),Ae=w(()=>e("p",{class:"subtitle"},"Content curated by topic",-1)),te=w(()=>e("li",null,[e("img"),e("p",{to:"/"},"Home")],-1)),oe=w(()=>e("li",null,[e("img"),e("p",null,"Explore")],-1)),ne=w(()=>e("li",null,[e("img"),e("p",null,"Rising")],-1));function se(A,t){const o=S;return a(),i("section",W,[ee,Ae,e("nav",null,[e("ul",null,[c(o,{to:"/",onClick:t[0]||(t[0]=s=>("toggleFeedMenu"in A?A.toggleFeedMenu:n(u))().value=!1)},{default:p(()=>[te]),_:1}),c(o,{to:"/explore",onClick:t[1]||(t[1]=s=>("toggleFeedMenu"in A?A.toggleFeedMenu:n(u))().value=!1)},{default:p(()=>[oe]),_:1}),c(o,{to:"/rising",onClick:t[2]||(t[2]=s=>("toggleFeedMenu"in A?A.toggleFeedMenu:n(u))().value=!1)},{default:p(()=>[ne]),_:1})])])])}const le=b(q,[["render",se],["__scopeId","data-v-c0637fd6"]]),E=A=>(F("data-v-313776f2"),A=A(),C(),A),ae={class:"branches-explore"},ie=E(()=>e("h6",{class:"title"},"Explore Communities",-1)),ue=E(()=>e("p",{class:"subtitle"},"Join the discussion",-1)),ce={key:0},re={key:1},de=["title"],_e=["src"],ge={key:0},pe=E(()=>e("a",null,"+ View all",-1)),me=E(()=>e("a",null,"- Hide more",-1)),he=[me],B=6,ve=I({__name:"browse-branches",async setup(A){let t,o;const s=Q(()=>{var r,g;return((g=(r=d==null?void 0:d.value)==null?void 0:r.body)==null?void 0:g.metadata.totalBranches)>B}),l=y(!1),{data:d,pending:M}=([t,o]=Z(()=>x(`/api/branches?page=1&limit=${B}`,{pick:["body"]},"$ANImgln1xw")),t=await t,o(),t),_=y([]);_.value=d.value.body.branches;async function m(){l.value=!0;const{data:r}=await x("/api/branches?page=2&limit=16&lastLimit=6",{pick:["body"]},"$uwixKe6jgf");_.value=[..._.value,...r.value.body.branches]}function h(){l.value=!1,_.value.splice(B,_.value.length-B)}return(r,g)=>{const k=S;return a(),i("section",ae,[ie,ue,e("nav",null,[n(M)?(a(),i("div",ce," Loading ... ")):(a(),i("ul",re,[(a(!0),i(L,null,j(n(_),v=>(a(),i("li",{title:v.description},[c(k,{to:"/b/"+v.branch_name,onClick:g[0]||(g[0]=O=>("toggleFeedMenu"in r?r.toggleFeedMenu:n(u))().value=!1)},{default:p(()=>[e("img",{src:v.icon_image},null,8,_e),e("p",null,"b/"+V(v.branch_name),1)]),_:2},1032,["to"])],8,de))),256)),n(s)&&!n(l)?(a(),i("div",{key:0,onClick:m,class:"more-button"},[n(l)?f("",!0):(a(),i("a",ge,"+ View more"))])):f("",!0),n(s)&&n(l)?(a(),$(k,{key:1,to:"/branches/all",class:"more-button viewall"},{default:p(()=>[pe]),_:1})):f("",!0),n(s)&&n(l)?(a(),i("div",{key:2,onClick:h,class:"more-button hide"},he)):f("",!0)]))])])}}}),fe=b(ve,[["__scopeId","data-v-313776f2"]]),be={class:"lists"},we=I({__name:"browse",setup(A){const t=y(null);return U(u(),o=>{var s,l;o?(s=t.value)==null||s.classList.remove("minimise"):(l=t.value)==null||l.classList.add("minimise")}),(o,s)=>{const l=le,d=fe;return a(),i("aside",{ref_key:"sideNav",ref:t,class:"side-nav minimise"},[e("div",be,[c(l),c(d)])],512)}}}),ke=b(we,[["__scopeId","data-v-941dc50d"]]),Be="data:image/png;base64,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",N=A=>(F("data-v-b20d4837"),A=A(),C(),A),Qe=N(()=>e("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1)),ye=N(()=>e("link",{rel:"preconnect",href:"https://fonts.gstatic.com"},null,-1)),Ie=N(()=>e("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap",rel:"stylesheet"},null,-1)),Fe=N(()=>e("img",{src:Be,alt:"Logo"},null,-1)),Ce={key:0,class:"log-buttons"},Ee=I({__name:"navbar",setup(A){const t=H(),{data:o,signOut:s}=P(),l=Q(()=>Y(o)),d=Q(()=>!(t.path==="/login"||t.path=="/register"||t.path=="/forgot-password")),M=Q(()=>{var m;return(m=o.value)==null?void 0:m.user});function _(){s({callbackUrl:"/login"})}return(m,h)=>{const r=R,g=S,k=G,v=ke;return a(),i(L,null,[c(r,null,{default:p(()=>[Qe,ye,Ie]),_:1}),e("header",null,[c(g,{class:"logo",to:"/",onClick:h[0]||(h[0]=O=>("toggleFeedMenu"in m?m.toggleFeedMenu:n(u))().value=!1)},{default:p(()=>[Fe]),_:1}),c(k),n(d)?(a(),i("div",Ce,[n(M)?(a(),i("button",{key:1,class:"logout",onClick:h[1]||(h[1]=O=>_())},"Logout "+V(n(l)),1)):(a(),$(g,{key:0,ref:"loginButton",to:"/login"},{default:p(()=>[T("Login")]),_:1},512))])):f("",!0)]),c(v)],64)}}}),Ue=b(Ee,[["__scopeId","data-v-b20d4837"]]);export{Ue as _};
