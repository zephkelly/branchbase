import{q as K,f as F,r as a,s as D,o as y,c as Q,a as e,i as h,t as W,b as M,p as z,e as O,_ as S,k as J,g as ee,v as Z,x as X,y as G,d as E,w as C,z as N,T as P,u as le,l as ie,A as ce,m as re,h as de,n as U,F as ue,j as te}from"./OWFocWMD.js";import{b as ve}from"./DQ3176xY.js";import{a as he,u as pe}from"./BMQyeFDy.js";import{a as ge}from"./cx4wuL-F.js";const H=()=>K("editBranchActivePage",()=>"general"),A=()=>K("backgroundImageModalEnabled",()=>!1),R=()=>K("avatarImageModalEnabled",()=>!1),me={class:"edit-navpanel"},_e=e("h3",null,"General",-1),be=[_e],fe=e("h3",null,"Pages",-1),we=[fe],ye=F({__name:"navpanel",setup(n){const l=a(null),r=a(null);return D(H,v=>{v.value==="general"?(l.value.classList.add("active"),r.value.classList.remove("active")):v.value==="page"&&(l.value.classList.remove("active"),r.value.classList.add("active"))}),(v,b)=>(y(),Q("section",me,[e("nav",null,[e("ul",null,[e("li",null,[e("button",{ref_key:"generalPageButton",ref:l,class:"active",onClick:b[0]||(b[0]=g=>("editBranchActivePage"in v?v.editBranchActivePage:h(H))().value="general")},be,512)]),e("li",null,[e("button",{ref_key:"pagesPageButton",ref:r,class:"",onClick:b[1]||(b[1]=g=>("editBranchActivePage"in v?v.editBranchActivePage:h(H))().value="page")},we,512)])])])]))}}),ne=n=>(z("data-v-732f1e8c"),n=n(),O(),n),$e={class:"head"},ke={class:"introduction"},qe={class:"text"},Be=ne(()=>e("h1",{class:"title"},"Editing",-1)),xe={class:"title"},Te=ne(()=>e("div",{class:"icon"},[e("div",{class:"container"},[e("button",{class:"disabled"},"Save")])],-1)),Me=F({__name:"head",props:["branchData"],setup(n){return(l,r)=>{const v=ye;return y(),Q("header",$e,[e("div",ke,[e("div",qe,[Be,e("h2",xe,"b/"+W(n.branchData.branch.branch_name),1)]),Te]),M(v)])}}}),Qe=S(Me,[["__scopeId","data-v-732f1e8c"]]),Ie={},De={class:"pending"},Ze=J('<div class="introduction" data-v-970cfb49><h1 class="pending-large" data-v-970cfb49></h1></div><div class="edit-navpanel" data-v-970cfb49><nav data-v-970cfb49><ul data-v-970cfb49><li data-v-970cfb49><button class="active" data-v-970cfb49><p class="pending" data-v-970cfb49></p></button></li><li data-v-970cfb49><button data-v-970cfb49><p class="pending" data-v-970cfb49></p></button></li></ul></nav></div>',2),Le=[Ze];function Ce(n,l){return y(),Q("section",De,Le)}const Pe=S(Ie,[["render",Ce],["__scopeId","data-v-970cfb49"]]),V=n=>(z("data-v-00bdc499"),n=n(),O(),n),Ve={class:"page general"},Ae=V(()=>e("h3",null,"General branch info",-1)),Ee={class:"name-avatar"},Fe={class:"name-privacy"},Se={class:"name"},He=V(()=>e("label",null,[E(" Branch name "),e("p",{class:"placeholder"},"b/"),e("div",{class:"tooltip",title:"Branch names can only contain numbers, letters, and hyphens. Name must be between 1-21 chars."},[e("svg",{class:"more-info",xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M453 776h60V536h-60v240Zm26.982-314q14.018 0 23.518-9.2T513 430q0-14.45-9.482-24.225-9.483-9.775-23.5-9.775-14.018 0-23.518 9.775T447 430q0 13.6 9.482 22.8 9.483 9.2 23.5 9.2Zm.284 514q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z"})])])],-1)),Ne=J('<div class="privacy" data-v-00bdc499><label data-v-00bdc499> Privacy setting <div class="tooltip" title="Adjust the privacy of your branch to determine how people are able to find and interact with your community." data-v-00bdc499><svg class="more-info" xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 96 960 960" width="48" data-v-00bdc499><path d="M453 776h60V536h-60v240Zm26.982-314q14.018 0 23.518-9.2T513 430q0-14.45-9.482-24.225-9.483-9.775-23.5-9.775-14.018 0-23.518 9.775T447 430q0 13.6 9.482 22.8 9.483 9.2 23.5 9.2Zm.284 514q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z" data-v-00bdc499></path></svg></div></label><select data-v-00bdc499><option value="public" data-v-00bdc499>Public</option><option value="secret" data-v-00bdc499>Secret</option></select></div>',1),Ue={class:"avatar"},Ye=V(()=>e("svg",{class:"edit-svg",xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M794 390 666 262l42-42q17-17 42.5-16.5T793 221l43 43q17 17 17 42t-17 42l-42 42Zm-42 42L248 936H120V808l504-504 128 128Z"})],-1)),Re=["src"],ze={class:"title"},Oe=V(()=>e("label",null,[E(" Branch title "),e("div",{class:"tooltip",title:"Branch titles are displayed on your branch page and during searches. Titles are used to give your visitors more information about your page or expand on the name of your branch."},[e("svg",{class:"more-info",xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M453 776h60V536h-60v240Zm26.982-314q14.018 0 23.518-9.2T513 430q0-14.45-9.482-24.225-9.483-9.775-23.5-9.775-14.018 0-23.518 9.775T447 430q0 13.6 9.482 22.8 9.483 9.2 23.5 9.2Zm.284 514q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z"})])])],-1)),je={class:"background-description"},Xe={class:"background"},Ge=V(()=>e("label",null,[E(" Background image "),e("div",{class:"tooltip",title:"Branch backgrounds are displayed on your branch page and add help some flare to your community."},[e("svg",{class:"more-info",xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M453 776h60V536h-60v240Zm26.982-314q14.018 0 23.518-9.2T513 430q0-14.45-9.482-24.225-9.483-9.775-23.5-9.775-14.018 0-23.518 9.775T447 430q0 13.6 9.482 22.8 9.483 9.2 23.5 9.2Zm.284 514q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z"})])])],-1)),We=V(()=>e("svg",{class:"edit-svg",xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M794 390 666 262l42-42q17-17 42.5-16.5T793 221l43 43q17 17 17 42t-17 42l-42 42Zm-42 42L248 936H120V808l504-504 128 128Z"})],-1)),Ke=["src"],Je=J('<div class="description" data-v-00bdc499><label data-v-00bdc499> Branch description <div class="tooltip" title="Descriptions are displayed on your branch page and help people find your community during searches. Descriptions are used to describe the content and purpose of your branch." data-v-00bdc499><svg class="more-info" xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 96 960 960" width="48" data-v-00bdc499><path d="M453 776h60V536h-60v240Zm26.982-314q14.018 0 23.518-9.2T513 430q0-14.45-9.482-24.225-9.483-9.775-23.5-9.775-14.018 0-23.518 9.775T447 430q0 13.6 9.482 22.8 9.483 9.2 23.5 9.2Zm.284 514q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z" data-v-00bdc499></path></svg></div></label><textarea placeholder="Branch description" data-v-00bdc499></textarea></div>',1),ea={class:"tags"},aa=V(()=>e("label",null,[E(" Branch Tags "),e("div",{class:"tooltip",title:"Tags are a great way to increase your branches visibility and help people find your community during searches."},[e("svg",{class:"more-info",xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M453 776h60V536h-60v240Zm26.982-314q14.018 0 23.518-9.2T513 430q0-14.45-9.482-24.225-9.483-9.775-23.5-9.775-14.018 0-23.518 9.775T447 430q0 13.6 9.482 22.8 9.483 9.2 23.5 9.2Zm.284 514q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z"})])])],-1)),Y=60,ta=F({__name:"general",props:["branchData"],setup(n){const l=n,r=a(null),v=a(21);D(r,i=>{v.value=21-i.length,r.value=i.replace(/\s/g,""),i.length>21&&(r.value=i.slice(0,21)),ve(i).then(s=>{if(s){if(i===l.branchData.branch.branch_name){g.value.classList.remove("error"),g.value.innerHTML="Characters remaining: <span>"+v.value+"</span>";return}g.value.classList.add("error"),g.value.innerHTML="Branch name already exists"}else g.value.classList.remove("error"),g.value.innerHTML="Characters remaining: <span>"+v.value+"</span>"})});let b=null;const g=a(null),$=()=>{clearTimeout(b),g.value.classList.add("active")},c=()=>{b=setTimeout(()=>{g.value.classList.remove("active")},2e3)};function p(){R().value=!0}const d=a(null),L=a(Y);D(d,i=>{L.value=Y-i.length,d.value=i.replace(/\s\s/g," "),i.length>Y&&(d.value=i.slice(0,Y))});let f=null;const k=a(null),I=()=>{clearTimeout(f),k.value.classList.add("active")},u=()=>{f=setTimeout(()=>{k.value.classList.remove("active")},2e3)};function q(){A().value=!0}const w=a(null),B=a(null),x=a(null);return ee(()=>{r.value=l.branchData.branch.branch_name,d.value=l.branchData.branch.branch_title,B.value.placeholder=l.branchData.branch.branch_name,x.value.placeholder=l.branchData.branch.branch_title}),(i,s)=>(y(),Q("form",Ve,[Ae,e("div",Ee,[e("div",Fe,[e("div",Se,[He,Z(e("input",{type:"text",ref_key:"branchNameRef",ref:B,"onUpdate:modelValue":s[0]||(s[0]=_=>G(r)?r.value=_:null),placeholder:"",onFocusin:s[1]||(s[1]=_=>$()),onFocusout:s[2]||(s[2]=_=>c())},null,544),[[X,h(r)]]),e("p",{class:"message",ref_key:"branchNameTooltip",ref:g},[E("Characters remaining: "),e("span",null,W(h(v)),1)],512)]),Ne]),e("div",Ue,[e("div",{class:"container",onClick:s[3]||(s[3]=_=>p())},[Ye,e("img",{src:n.branchData.branch.icon_image},null,8,Re)])]),e("div",ze,[Oe,Z(e("input",{type:"text",ref_key:"branchTitleRef",ref:x,"onUpdate:modelValue":s[4]||(s[4]=_=>G(d)?d.value=_:null),placeholder:"Branch title",onFocusin:s[5]||(s[5]=_=>I()),onFocusout:s[6]||(s[6]=_=>u())},null,544),[[X,h(d)]]),e("p",{class:"message",ref_key:"branchTitleTooltip",ref:k},[E("Characters remaining: "),e("span",null,W(h(L)),1)],512)])]),e("div",je,[e("div",Xe,[Ge,e("div",{class:"container",onClick:s[7]||(s[7]=_=>q())},[We,e("img",{class:"background-img",src:n.branchData.branch.background_image},null,8,Ke)])]),Je,e("div",ea,[aa,Z(e("input",{text:"text",ref:"branchTagsRef","onUpdate:modelValue":s[8]||(s[8]=_=>G(w)?w.value=_:null),placeholder:"Branch tags"},null,512),[[X,h(w)]])])])]))}}),na=S(ta,[["__scopeId","data-v-00bdc499"]]),j=n=>(z("data-v-f5d490d7"),n=n(),O(),n),sa={class:"panel"},oa={class:"info"},la=j(()=>e("h3",null,"Background Image",-1)),ia=j(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"})],-1)),ca=[ia],ra={class:"content"},da={class:"preview"},ua=j(()=>e("label",{for:"previewImage"},"Preview",-1)),va=["src"],ha={class:"navbar"},pa={class:"sub-pages"},ga={class:"upload-option"},ma={class:"upload"},_a=j(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M220 896q-24 0-42-18t-18-42V693h60v143h520V693h60v143q0 24-18 42t-42 18H220Zm230-153V372L330 492l-43-43 193-193 193 193-43 43-120-120v371h-60Z"})],-1)),ba={class:"link-option"},fa={class:"actions"},wa=F({__name:"background-image",props:["branchData"],setup(n){const l=n,r=a(null),v=a(!0),b=a(!1),g=a(null);a(null);const $=a(null),c=a(null),p=a(null),d=a(null);function L(){if(p.value=$.value.files,p.value[0].size>5242880){alert("File size is too big! Can not be more than 5MB"),i.value=!1;return}p.value&&(c.value.src=URL.createObjectURL(p.value[0]),d.value.innerHTML=p.value[0].name,i.value=!0)}let f=a(!1),k=0;function I(m){f.value=!0,k=m.clientY-c.value.offsetTop}const u=a(null);function q(m){if(!f.value)return;m.preventDefault();const t=m.clientY-k,o=c.value.clientHeight-u.value.clientHeight;c.value.style.top=`-${Math.min(Math.max(-t,0),o)}px`}function w(){f.value=!1}function B(m){m.preventDefault()}const x=a(null),i=a(!1);D(i,m=>{m?x.value.classList.remove("disabled"):x.value.classList.add("disabled")});function s(){if(!i.value)return;const m=new FormData;console.log(l.branchData.branch.background_image),m.append("photo",p.value[0]),m.append("top",c.value.style.top),m.append("branch",l.branchData.branch.id),m.append("background_image",l.branchData.branch.background_image),he("/api/branches/upload/background/",{method:"POST",body:m},"$BOpopl5F7a").then(t=>{console.log(t)})}function _(){A().value=!1}return ee(()=>{r.value.classList.add("active")}),(m,t)=>(y(),Q("section",{class:"modal",ref_key:"modal",ref:r,onMousemove:q,onMouseup:t[5]||(t[5]=o=>w()),onMouseleave:t[6]||(t[6]=o=>w())},[e("div",sa,[e("div",oa,[la,e("button",{class:"close-button",onClick:t[0]||(t[0]=o=>_())},ca)]),e("div",ra,[e("div",da,[ua,e("div",{class:"container",ref_key:"previewContainer",ref:u,onMousedown:t[1]||(t[1]=o=>I(o)),onMouseup:t[2]||(t[2]=o=>w()),onContextmenu:t[3]||(t[3]=o=>B(o))},[e("img",{id:"previewImage",ref_key:"previewImage",ref:c,src:n.branchData.branch.background_image},null,8,va)],544)]),e("div",ha,[e("nav",null,[e("ul",null,[e("li",null,[e("button",{class:"active",ref_key:"uploadPageButton",ref:g},"Upload image",512)])])])]),e("div",pa,[M(P,{name:"fade"},{default:C(()=>[Z(e("div",ga,[e("div",ma,[e("label",{for:"backgroundImage",ref_key:"uploadImageLabel",ref:d},"Click or drag an image here",512),_a,e("input",{type:"file",id:"backgroundImage",ref_key:"backgroundImage",ref:$,name:"background-image",accept:"image/*",onChange:t[4]||(t[4]=o=>L())},null,544)])],512),[[N,h(v)]])]),_:1}),M(P,{name:"fade"},{default:C(()=>[Z(e("div",ba,null,512),[[N,h(b)]])]),_:1})]),e("div",fa,[e("button",{class:"save disabled",ref_key:"saveBackground",ref:x,onClick:s},"Save",512)])])])],544))}}),ya=S(wa,[["__scopeId","data-v-f5d490d7"]]),ae=n=>(z("data-v-9b8e931d"),n=n(),O(),n),$a={class:"panel"},ka={class:"info"},qa=ae(()=>e("h3",null,"Avatar Image",-1)),Ba=ae(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"})],-1)),xa=[Ba],Ta={class:"content"},Ma={class:"preview"},Qa=["src"],Ia={class:"navbar"},Da={class:"sub-pages"},Za={class:"upload-option"},La={class:"upload"},Ca=ae(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 96 960 960",width:"48"},[e("path",{d:"M220 896q-24 0-42-18t-18-42V693h60v143h520V693h60v143q0 24-18 42t-42 18H220Zm230-153V372L330 492l-43-43 193-193 193 193-43 43-120-120v371h-60Z"})],-1)),Pa={class:"link-option"},Va={class:"actions"},Aa=F({__name:"avatar-image",props:["branchData"],setup(n){const l=n,r=a(null),v=a(!0),b=a(!1),g=a(null);a(null);const $=a(null),c=a(null),p=a(null),d=a(null);function L(){if(p.value=$.value.files,p.value[0].size>5242880){alert("File size is too big! Can not be more than 5MB"),s.value=!1;return}p.value&&(c.value.src=URL.createObjectURL(p.value[0]),d.value.innerHTML=p.value[0].name,s.value=!0)}let f=a(!1),k=0,I=0;function u(t){f.value=!0,k=t.clientY-c.value.offsetTop,I=t.clientX-c.value.offsetLeft}const q=a(null);function w(t){if(!f.value)return;t.preventDefault();const o=t.clientY-k,T=t.clientX-I,se=c.value.clientHeight-q.value.clientHeight,oe=c.value.clientWidth-q.value.clientWidth;c.value.style.top=`-${Math.min(Math.max(-o,0),se)}px`,c.value.style.left=`-${Math.min(Math.max(-T,0),oe)}px`}function B(){f.value=!1}function x(t){t.preventDefault()}const i=a(null),s=a(!1);D(s,t=>{t?i.value.classList.remove("disabled"):i.value.classList.add("disabled")});function _(){if(!s.value)return;const t=new FormData;console.log(l.branchData.branch.avatar),t.append("photo",p.value[0]),t.append("top",c.value.style.top),t.append("branch",l.branchData.branch.id),t.append("background_image",l.branchData.branch.avatar_image)}function m(){R().value=!1}return ee(()=>{r.value.classList.add("active")}),(t,o)=>(y(),Q("section",{class:"modal",ref_key:"modal",ref:r,onMousemove:w,onMouseup:o[5]||(o[5]=T=>B()),onMouseleave:o[6]||(o[6]=T=>B())},[e("div",$a,[e("div",ka,[qa,e("button",{class:"close-button",onClick:o[0]||(o[0]=T=>m())},xa)]),e("div",Ta,[e("div",Ma,[e("div",{class:"container",ref_key:"previewContainer",ref:q,onMousedown:o[1]||(o[1]=T=>u(T)),onMouseup:o[2]||(o[2]=T=>B()),onContextmenu:o[3]||(o[3]=T=>x(T))},[e("img",{id:"previewImage",ref_key:"previewImage",ref:c,src:n.branchData.branch.background_image},null,8,Qa)],544)]),e("div",Ia,[e("nav",null,[e("ul",null,[e("li",null,[e("button",{class:"active",ref_key:"uploadPageButton",ref:g},"Upload image",512)])])])]),e("div",Da,[M(P,{name:"fade"},{default:C(()=>[Z(e("div",Za,[e("div",La,[e("label",{for:"avatarImage",ref_key:"uploadImageLabel",ref:d},"Click or drag an image here",512),Ca,e("input",{type:"file",id:"avatarImage",ref_key:"avatarImage",ref:$,name:"background-image",accept:"image/*",onChange:o[4]||(o[4]=T=>L())},null,544)])],512),[[N,h(v)]])]),_:1}),M(P,{name:"fade"},{default:C(()=>[Z(e("div",Pa,null,512),[[N,h(b)]])]),_:1})]),e("div",Va,[e("button",{class:"save disabled",ref_key:"saveAvatar",ref:i,onClick:_},"Save",512)])])])],544))}}),Ea=S(Aa,[["__scopeId","data-v-9b8e931d"]]),Fa={key:2,class:"pages"},Sa={key:3,class:"pages"},Ha=F({__name:"[slug]",async setup(n){let l,r;const{status:v,data:b}=le(),{slug:g}=ie().params,$=a(!1),c=a(!1),p=ce(()=>$.value&&c.value),{data:d,pending:L}=([l,r]=re(()=>pe(`/api/branches/get/branch?name=${g}`,"$zZTueiKkcl")),l=await l,r(),l);f(),D(d,u=>{f()});function f(){d.value===null?(console.log("Branch does not exist"),c.value=!1):(c.value=!0,v.value!=="authenticated"&&(console.log("You are not logged in"),$.value=!1),d.value.branch.owner_user_id!==ge(b)?(console.log("You are not authorised to view this page"),$.value=!1):(console.log("You are authorised to view this page"),$.value=!0))}D(A(),u=>{k(u)}),D(R(),u=>{k(u)});function k(u){const q=window.scrollY;if(u===!0)document.body.style.position="fixed",document.body.style.top=`-${q}px`;else{const w=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,parseInt(w||"0")*-1)}}function I(){A().value===!0&&(A().value=!1)}return de(()=>{I(),H().value="general"}),(u,q)=>{const w=Qe,B=Pe,x=na,i=ya,s=Ea;return y(),Q(ue,null,[h(p)?(y(),U(w,{key:0,branchData:h(d)},null,8,["branchData"])):(y(),U(B,{key:1})),h(p)?(y(),Q("div",Fa,[M(P,{name:"fade"},{default:C(()=>[Z(M(x,{branchData:h(d)},null,8,["branchData"]),[[N,("editBranchActivePage"in u?u.editBranchActivePage:h(H))().value==="general"]])]),_:1})])):(y(),Q("section",Sa)),M(P,{name:"fade"},{default:C(()=>[("backgroundImageModalEnabled"in u?u.backgroundImageModalEnabled:h(A))().value?(y(),U(i,{key:0,branchData:h(d)},null,8,["branchData"])):te("",!0)]),_:1}),M(P,{name:"fade"},{default:C(()=>[("avatarImageModalEnabled"in u?u.avatarImageModalEnabled:h(R))().value?(y(),U(s,{key:0,branchData:h(d)},null,8,["branchData"])):te("",!0)]),_:1})],64)}}}),za=S(Ha,[["__scopeId","data-v-617eecaf"]]);export{za as default};
